# CSS 选择器

CSS 选择器用于“查找”（或选取）要设置样式的 HTML 元素。

## 简单选择器

根据名称、id、class 来选取元素

### 元素选择器

元素选择器根据 **元素名称** 来选择 HTML 元素。 如果设置 HTML 的样式，选择器通常将是某个 HTML 元素，比如 p、h1。

在 W3C 标准中，元素选择器又称为类型选择器（type selector）。 “类型选择器匹配文档语言元素类型的名称。类型选择器匹配文档树中该元素类型的每一个实例。”


### id 选择器

id 选择器使用 HTML 元素的 id 属性来选择特定元素。 元素的 id 在页面中是唯一的，因此 id 选择器用于选择一个唯一的元素。

要选择具有特定 id 的元素，请写一个井号（＃），后跟该元素的 id。

### class 选择器

class 选择器用于描述一组元素的样式，class 选择器有别于id选择器，class可以在多个元素中使用。 class 选择器在HTML中以 class 属性表示。

如需选择拥有特定 class 的元素，请写一个句点（.）字符，后面跟类名。
#### 结合元素选择器
类选择器可以结合元素选择器来使用。

例如，您可能希望只有段落显示为红色文本：
```css
p.important {color:red;}
```
#### CSS 多类选择器

在 HTML 中，一个 class 值中可能包含一个词列表，各个词之间用空格分隔。可以分别为各个类名设定样式，也可以通过把两个类选择器链接在一起，仅可以选择同时包含这些类名的元素（类名的顺序不限）。

如果一个多类选择器包含类名列表中没有的一个类名，匹配就会失败。

### 通配选择器

通配选择器（universal selector），显示为一个星号（*）。该选择器可以与任何元素匹配，就像是一个通配符。

### 分组选择器
分组选择器选取所有具有相同样式定义的 HTML 元素。如需对选择器进行分组，请用逗号来分隔每个选择器。如果没有这个逗号，那么规则的含义将完全不同。参见后代选择器。

## 组合器选择器

根据它们之间的特定关系来选取元素。

组合器是解释选择器之间关系的某种机制。 CSS 选择器可以包含多个简单选择器。在简单选择器之间，我们可以包含一个组合器。

CSS 中有四种不同的组合器：

- 后代选择器 (空格)
- 子选择器 (>)
- 相邻兄弟选择器 (+)
- 通用兄弟选择器 (~)

### 后代选择器

后代选择器匹配属于指定元素后代的所有元素（两个元素之间的层次间隔可以是无限的）。

在后代选择器中，规则左边的选择器一端包括两个或多个用空格分隔的选择器。选择器之间的空格是一种结合符（combinator）。

下面的例子选择 `<div>` 元素内的所有 `<p>` 元素：

```css
div p {
background-color: yellow;
}
```

### 子选择器

子选择器（Child selector）匹配属于指定元素子元素的所有元素。

如果您不希望选择任意的后代元素，而是希望缩小范围，只选择某个元素的子元素，请使用子元素选择器。

下面的例子选择属于 `<div>` 元素子元素的所有 `<p>` 元素：

```css
div > p {
background-color: yellow;
}
```
子选择器使用了大于号（子结合符）。 子结合符两边可以有空白符，这是可选的。
### 相邻兄弟选择器

相邻兄弟选择器（Adjacent sibling selector）匹配所有作为指定元素的相邻同级的元素。 兄弟（同级）元素必须具有相同的父元素，“相邻”的意思是“紧随其后”。

下面的例子选择紧随 `<div>` 元素之后的所有 `<p>` 元素：

```css
div + p {
background-color: yellow;
}
```

### 通用兄弟选择器

通用兄弟选择器匹配属于指定元素的同级元素的所有元素。 两种元素必须拥有相同的父元素，但是 element2 不必直接紧随 element1。

下面的例子选择属于 `<div>` 元素的同级元素的所有 `<p>` 元素：

```css
div ~ p {
background-color: yellow;
}
```

## 伪类选择器

### 什么是伪类？
根据特定状态选取元素。

伪类用于定义元素的特殊状态。

例如，它可以用于：

- 设置鼠标悬停在元素上时的样式
- 为已访问和未访问链接设置不同的样式
- 设置元素获得焦点时的样式

伪类的语法：
```css
selector:pseudo-class {
property: value;
}
```

### 所有 CSS 伪类
  
| 选择器               | 例子                   | 例子描述        |
| --------------------| --------------------- | --------------------- |
| :active             | a:active              | 选择活动的链接。                              |
| :checked            | input:checked         | 选择每个被选中的 `<input>` 元素。              |
| :disabled           | input:disabled        | 选择每个被禁用的 `<input>` 元素。              |
| :empty              | p:empty               | 选择没有子元素的每个 `<p>` 元素。              |
| :enabled            | input:enabled         | 选择每个已启用的 `<input>` 元素。              |
| :first-child        | p:first-child         | 选择作为其父的首个子元素的每个 `<p>` 元素。       |
| :first-of-type      | p:first-of-type       | 选择作为其父的首个 `<p>` 元素的每个 `<p>` 元素。  |
| :focus              | input:focus           | 选择获得焦点的 `<input>` 元素。               |
| :hover              | a:hover               | 选择鼠标悬停其上的链接。                      |
| :in-range           | input:in-range        | 选择具有指定范围内的值的 `<input>` 元素。          |
| :invalid            | input:invalid         | 选择所有具有无效值的 `<input>` 元素。            |
| :lang(language)     | p:lang(it)            | 选择每个 lang 属性值以 "it" 开头的 `<p>` 元素。   |
| :last-child         | p:last-child          | 选择作为其父的最后一个子元素的每个 `<p>` 元素。         |
| :last-of-type       | p:last-of-type        | 选择作为其父的最后一个 `<p>` 元素的每个 `<p>` 元素。     |
| :link               | a:link                | 选择所有未被访问的链接。                      |
| :not(selector)      | :not(p)               | 选择每个非 `<p>` 元素的元素。                  |
| :nth-child(n)       | p:nth-child(2)        | 选择作为其父的第二个子元素的每个 `<p>` 元素。          |
| :nth-last-child(n)  | p:nth-last-child(2)   | 选择作为父的第二个子元素的每个`<p>`元素，从最后一个子元素计数。  |
| :nth-last-of-type(n)| p:nth-last-of-type(2) | 选择作为父的第二个`<p>`元素的每个`<p>`元素，从最后一个子元素计数 |
| :nth-of-type(n)     | p:nth-of-type(2)      | 选择作为其父的第二个 `<p>` 元素的每个 `<p>` 元素。      |
| :only-of-type       | p:only-of-type        | 选择作为其父的唯一 `<p>` 元素的每个 `<p>` 元素。       |
| :only-child         | p:only-child          | 选择作为其父的唯一子元素的 `<p>` 元素。             |
| :optional           | input:optional        | 选择不带 "required" 属性的 `<input>` 元素。   |
| :out-of-range       | input:out-of-range    | 选择值在指定范围之外的 `<input>` 元素。           |
| :read-only          | input:read-only       | 选择指定了 "readonly" 属性的 `<input>` 元素。  |
| :read-write         | input:read-write      | 选择不带 "readonly" 属性的 `<input>` 元素。   |
| :required           | input:required        | 选择指定了 "required" 属性的 `<input>` 元素。  |
| :root               | root                  | 选择元素的根元素。                         |
| :target             | #news:target          | 选择当前活动的 #news 元素（单击包含该锚名称的 URL）。  |
| :valid              | input:valid           | 选择所有具有有效值的 `<input>` 元素。            |
| :visited            | a:visited             | 选择所有已访问的链接。                       |

## 伪元素选择器

### 什么是伪元素？

选取元素的一部分并设置其样式。

CSS 伪元素用于设置元素指定部分的样式。

例如，它可用于：

- 设置元素的首字母、首行的样式
- 在元素的内容之前或之后插入内容

伪元素的语法：

```css
selector::pseudo-element {
property: value;
}
```

### 所有 CSS 伪元素

| 选择器          | 例子            | 例子描述              |
| -------------- | --------------- | ----------------- |
| ::after        | p::after        | 在每个 `<p>` 元素之后插入内容。 |
| ::before       | p::before       | 在每个 `<p>` 元素之前插入内容。 |
| ::first-letter | p::first-letter | 选择每个 `<p>` 元素的首字母。只适用于块级元素。  |
| ::first-line   | p::first-line   | 选择每个 `<p>` 元素的首行。只适用于块级元素。   |
| ::selection    | p::selection    | 选择用户选择的元素部分。

## 属性选择器

根据属性或属性值来选取元素。

可以设置带有特定属性或属性值的 HTML 元素的样式。

还可以根据多个属性进行选择，只需将属性选择器链接在一起即可。

#### 简单属性选择

[attribute] 选择器用于选取带有指定属性的元素。 

如果您希望把包含标题（title）的所有元素变为红色，可以写作：

```css
*[title] {color:red;}
```

与上面类似，可以只对有 href 属性的锚（a 元素）应用样式：

```css
a[href] {color:red;}
```
还可以根据多个属性进行选择，只需将属性选择器链接在一起即可。

#### 根据属性值选择

除了选择拥有某些属性的元素，还可以进一步缩小选择范围，只选择有特定属性值的元素。

- [attribute="value"] 选择器用于选取带有指定属性和值的元素。
- [attribute~="value"] 选择器选取属性值包含指定词的元素。
- [attribute|="value"] 选择器用于选取指定属性以指定值开头的元素。
- [attribute^="value"] 选择器用于选取指定属性以指定值开头的元素。
- [attribute$="value"] 选择器用于选取指定属性以指定值结尾的元素。
- [attribute*="value"] 选择器选取属性值包含指定词的元素。

## 选择器的优先级

优先级关系：内联样式 > ID 选择器 > 类、属性和伪类选择器 > 标签、伪元素选择器

优先级就是分配给指定的 CSS 声明的一个权重，它由 匹配的选择器中的 每一种选择器类型的 数值 决定。

- !important 优先级最高，但是要少用
- 权重相同，看谁的定义靠后，越靠后就会覆盖掉前面的样式
- 越具体优先级越高

权重的计算依次为1000,100,10,1，!important的优先级为正无穷。但实际上，1000,100,10,1不是十进制中的1000,100,10,1，而是进制数，不是2进制，不是10进制，而是256进制，就是0到255后+1才是1，比如通配符的权重为0，伪元素的权重为1，中间相差了255，依次类推。
